\subsection{I2\+C\+Slave.\+h File Reference}
\label{_i2_c_slave_8h}\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}


\subsubsection{Detailed Description}
I2\+C\+Slave driver interface. 

============================================================================

The I2\+C\+Slave header file should be included in an application as follows\+: 
\begin{DoxyCode}
\textcolor{preprocessor}{#include <ti/drivers/I2CSlave.h>}
\end{DoxyCode}


\subsubsection*{Operation}

The I2\+C\+Slave driver operates as a slave on an I2\+C bus in either I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G or I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K. In blocking mode, the task\textquotesingle{}s execution is blocked during the I2\+C\+Slave read/write transfer. When the transfer has completed, code execution will resume. In callback mode, the task\textquotesingle{}s execution is not blocked, allowing for other transactions to be queued up or to process some other code. When the transfer has completed, the I2\+C\+Slave driver will call a user-\/specified callback function (from a H\+W\+I context).

The A\+P\+Is in this driver serve as an interface to a typical T\+I-\/\+R\+T\+O\+S application. The specific peripheral implementations are responsible to create all the S\+Y\+S/\+B\+I\+O\+S specific primitives to allow for thread-\/safe operation.

\paragraph*{Opening the driver}


\begin{DoxyCode}
I2CSlave_Handle      handle;
I2CSlave_Params      params;

I2CSlave_Params_init(&params);
params.transferMode  = I2CSLAVE_MODE_CALLBACK;
params.transferCallbackFxn = someI2CSlaveCallbackFunction;
handle = I2CSlave_open(someI2CSlave\_configIndexValue, &params);
\textcolor{keywordflow}{if} (!handle) \{
    System\_printf(\textcolor{stringliteral}{"I2CSlave did not open"});
\}
\end{DoxyCode}


\paragraph*{Transferring data}

A I2\+C\+Slave transaction with a I2\+C\+Slave peripheral is started by calling \hyperlink{_i2_c_slave_8h_ad5409f453e769676593a1a14d0ba6d7b}{I2\+C\+Slave\+\_\+read()} or \hyperlink{_i2_c_slave_8h_a66c5d4103e022318c746c592ab2295f8}{I2\+C\+Slave\+\_\+write()}. Each transfer is performed atomically with the I2\+C\+Slave peripheral.


\begin{DoxyCode}
ret = I2CSlave_read(i2cSlave, buffer, 5)
if (!ret) \{
    System\_printf(\textcolor{stringliteral}{"Unsuccessful I2CSlave read"});
\}

I2CSlave_write(i2cSlave, buffer, 3);
\textcolor{keywordflow}{if} (!ret) \{
    System\_printf(\textcolor{stringliteral}{"Unsuccessful I2CSlave write"});
\}
\end{DoxyCode}


\subsubsection*{Implementation}

This module serves as the main interface for T\+I-\/\+R\+T\+O\+S applications. Its purpose is to redirect the module\textquotesingle{}s A\+P\+Is to specific peripheral implementations which are specified using a pointer to a \hyperlink{struct_i2_c_slave___fxn_table}{I2\+C\+Slave\+\_\+\+Fxn\+Table}.

The I2\+C\+Slave driver interface module is joined (at link time) to a N\+U\+L\+L-\/terminated array of \hyperlink{struct_i2_c_slave___config}{I2\+C\+Slave\+\_\+\+Config} data structures named {\itshape I2\+C\+Slave\+\_\+config}. {\itshape I2\+C\+Slave\+\_\+config} is implemented in the application with each entry being an instance of a I2\+C\+Slave peripheral. Each entry in {\itshape I2\+C\+Slave\+\_\+config} contains a\+:
\begin{DoxyItemize}
\item (\hyperlink{struct_i2_c_slave___fxn_table}{I2\+C\+Slave\+\_\+\+Fxn\+Table} $\ast$) to a set of functions that implement an I2\+C\+Slave
\item (void $\ast$) data object that is associated with the \hyperlink{struct_i2_c_slave___fxn_table}{I2\+C\+Slave\+\_\+\+Fxn\+Table}
\item (void $\ast$) hardware attributes that are associated to the \hyperlink{struct_i2_c_slave___fxn_table}{I2\+C\+Slave\+\_\+\+Fxn\+Table}
\end{DoxyItemize}

\subsubsection*{Instrumentation}

The I2\+C\+Slave driver interface produces log statements if instrumentation is enabled.

\begin{TabularC}{2}
\hline
\rowcolor{lightgray}{\bf Diagnostics Mask }&{\bf Log details  }\\\cline{1-2}
Diags\+\_\+\+U\+S\+E\+R1 &basic operations performed \\\cline{1-2}
Diags\+\_\+\+U\+S\+E\+R2 &detailed operations performed \\\cline{1-2}
\end{TabularC}


{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$stdbool.\+h$>$}\\*
{\ttfamily \#include $<$stddef.\+h$>$}\\*
Include dependency graph for I2\+C\+Slave.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{_i2_c_slave_8h__incl}
\end{center}
\end{figure}
\subsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_i2_c_slave___params}{I2\+C\+Slave\+\_\+\+Params}
\begin{DoxyCompactList}\small\item\em I2\+C\+Slave Parameters. \end{DoxyCompactList}\item 
struct \hyperlink{struct_i2_c_slave___fxn_table}{I2\+C\+Slave\+\_\+\+Fxn\+Table}
\begin{DoxyCompactList}\small\item\em The definition of a I2\+C\+Slave function table that contains the required set of functions to control a specific I2\+C\+Slave driver implementation. \end{DoxyCompactList}\item 
struct \hyperlink{struct_i2_c_slave___config}{I2\+C\+Slave\+\_\+\+Config}
\begin{DoxyCompactList}\small\item\em I2\+C\+Slave Global configuration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_i2_c_slave_8h_a50e2b786948f487d4cb975e5581d93df}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+C\+M\+D\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D}~32
\item 
\#define \hyperlink{_i2_c_slave_8h_a9fe1fa8f941643c68c443fc089fadf3c}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D}~-\/32
\item 
\#define \hyperlink{_i2_c_slave_8h_a5fefb558e9268fd792ec49f80b697474}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S}~0
\begin{DoxyCompactList}\small\item\em Successful status code returned by \hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()}. \end{DoxyCompactList}\item 
\#define \hyperlink{_i2_c_slave_8h_acae8b3350c196cdb215b25d7ca170708}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+O\+R}~-\/1
\begin{DoxyCompactList}\small\item\em Generic error status code returned by \hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()}. \end{DoxyCompactList}\item 
\#define \hyperlink{_i2_c_slave_8h_a379b9d624bb9cd78f3d4991cc2d15dd2}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D\+C\+M\+D}~-\/2
\begin{DoxyCompactList}\small\item\em An error status code returned by \hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()} for undefined command codes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct_i2_c_slave___config}{I2\+C\+Slave\+\_\+\+Config} $\ast$ \hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle}
\begin{DoxyCompactList}\small\item\em A handle that is returned from a \hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open()} call. \end{DoxyCompactList}\item 
typedef enum \hyperlink{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97ca}{I2\+C\+Slave\+\_\+\+Mode} \hyperlink{_i2_c_slave_8h_aa33e86864be8bf1597048f105b5ef9d0}{I2\+C\+Slave\+\_\+\+Mode}
\begin{DoxyCompactList}\small\item\em I2\+C\+Slave mode. \end{DoxyCompactList}\item 
typedef enum \hyperlink{_i2_c_slave_8h_a5e27f9ba25088f9e7071e3e6f806559d}{I2\+C\+Slave\+\_\+\+Transfer\+Mode} \hyperlink{_i2_c_slave_8h_a788e85749c883393490ad7e49d19b22d}{I2\+C\+Slave\+\_\+\+Transfer\+Mode}
\begin{DoxyCompactList}\small\item\em I2\+C\+Slave transfer mode. \end{DoxyCompactList}\item 
typedef void($\ast$ \hyperlink{_i2_c_slave_8h_a2f0d1d9022a0668ad78e7ff37298d24a}{I2\+C\+Slave\+\_\+\+Callback\+Fxn}) (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle}, bool)
\begin{DoxyCompactList}\small\item\em I2\+C\+Slave callback function. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_i2_c_slave___params}{I2\+C\+Slave\+\_\+\+Params} \hyperlink{_i2_c_slave_8h_a9cd68573732e7853e3b14af2ec7e7652}{I2\+C\+Slave\+\_\+\+Params}
\begin{DoxyCompactList}\small\item\em I2\+C\+Slave Parameters. \end{DoxyCompactList}\item 
typedef void($\ast$ \hyperlink{_i2_c_slave_8h_a9a2e6a8574316d6a494d208de4329fc7}{I2\+C\+Slave\+\_\+\+Close\+Fxn}) (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} handle)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_i2_c_slave_8h_a323cbb394c10ab1018820c9a76eccc18}{I2\+C\+Slave\+\_\+close()}. \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{_i2_c_slave_8h_a895a9a94cd98b391cdd3d54ef62dd86a}{I2\+C\+Slave\+\_\+\+Control\+Fxn}) (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} handle, unsigned int cmd, void $\ast$arg)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()}. \end{DoxyCompactList}\item 
typedef void($\ast$ \hyperlink{_i2_c_slave_8h_ae821c2b97cf6640cd58b8e0c40efb464}{I2\+C\+Slave\+\_\+\+Init\+Fxn}) (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} handle)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_i2_c_slave_8h_ad7518283a3f3fb80cefe6cb7ca7a4a36}{I2\+C\+Slave\+\_\+init()}. \end{DoxyCompactList}\item 
typedef \hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle}($\ast$ \hyperlink{_i2_c_slave_8h_a7c6638bde6397024b1f1ece4f9baed37}{I2\+C\+Slave\+\_\+\+Open\+Fxn}) (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} handle, \hyperlink{struct_i2_c_slave___params}{I2\+C\+Slave\+\_\+\+Params} $\ast$params)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open()}. \end{DoxyCompactList}\item 
typedef bool($\ast$ \hyperlink{_i2_c_slave_8h_a7515207a9b0bde39ff2744ac3ed366ea}{I2\+C\+Slave\+\_\+\+Write\+Fxn}) (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} handle, const void $\ast$buffer, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of I2\+C\+Slave\+\_\+\+Write\+Transaction(). \end{DoxyCompactList}\item 
typedef bool($\ast$ \hyperlink{_i2_c_slave_8h_ac74d6f05afaf02a4238fe59a588cd787}{I2\+C\+Slave\+\_\+\+Read\+Fxn}) (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} handle, void $\ast$buffer, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_i2_c_slave_8h_ac74d6f05afaf02a4238fe59a588cd787}{I2\+C\+Slave\+\_\+\+Read\+Fxn()}. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_i2_c_slave___fxn_table}{I2\+C\+Slave\+\_\+\+Fxn\+Table} \hyperlink{_i2_c_slave_8h_a5c5679b810eaceb9aef157fefe2e4608}{I2\+C\+Slave\+\_\+\+Fxn\+Table}
\begin{DoxyCompactList}\small\item\em The definition of a I2\+C\+Slave function table that contains the required set of functions to control a specific I2\+C\+Slave driver implementation. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_i2_c_slave___config}{I2\+C\+Slave\+\_\+\+Config} \hyperlink{_i2_c_slave_8h_a8f8cf70723a9a12867dbdb3e12caa300}{I2\+C\+Slave\+\_\+\+Config}
\begin{DoxyCompactList}\small\item\em I2\+C\+Slave Global configuration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97ca}{I2\+C\+Slave\+\_\+\+Mode} \{ \\*
\hyperlink{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97caa0e5216f404dc3b5adf0da3c292d9217a}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+I\+D\+L\+E\+\_\+\+M\+O\+D\+E} = 0, 
\\*
\hyperlink{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97caa74dcfa16de3abf3db4438ab4b0714522}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+M\+O\+D\+E}, 
\\*
\hyperlink{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97caada9f2fb28cb0a3bb13520f6e77c8f126}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+R\+E\+A\+D\+\_\+\+M\+O\+D\+E}, 
\\*
\hyperlink{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97caaa4f7f07c5cb10d98cc9dd08ffc40cf9a}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+R\+T\+\_\+\+M\+O\+D\+E}, 
\\*
\hyperlink{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97caa3f8c8244ead6629a301932793995b790}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+E\+R\+R\+O\+R} = 0x\+F\+F
 \}
\begin{DoxyCompactList}\small\item\em I2\+C\+Slave mode. \end{DoxyCompactList}\item 
enum \hyperlink{_i2_c_slave_8h_a5e27f9ba25088f9e7071e3e6f806559d}{I2\+C\+Slave\+\_\+\+Transfer\+Mode} \{ \\*
\hyperlink{_i2_c_slave_8h_a5e27f9ba25088f9e7071e3e6f806559dac85f5a1e6bca3d9402b2e5704387fa8f}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G}, 
\\*
\hyperlink{_i2_c_slave_8h_a5e27f9ba25088f9e7071e3e6f806559da1dda6ae35d8aa92739d2714a4eaa4107}{I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K}
 \}
\begin{DoxyCompactList}\small\item\em I2\+C\+Slave transfer mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_i2_c_slave_8h_a323cbb394c10ab1018820c9a76eccc18}{I2\+C\+Slave\+\_\+close} (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} handle)
\begin{DoxyCompactList}\small\item\em Function to close a I2\+C\+Slave peripheral specified by the I2\+C\+Slave handle. \end{DoxyCompactList}\item 
int \hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control} (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} handle, unsigned int cmd, void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Function performs implementation specific features on a given I2\+C\+Slave\+\_\+\+Handle. \end{DoxyCompactList}\item 
void \hyperlink{_i2_c_slave_8h_ad7518283a3f3fb80cefe6cb7ca7a4a36}{I2\+C\+Slave\+\_\+init} (void)
\begin{DoxyCompactList}\small\item\em Function to initializes the I2\+C\+Slave module. \end{DoxyCompactList}\item 
\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} \hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open} (unsigned int index, \hyperlink{struct_i2_c_slave___params}{I2\+C\+Slave\+\_\+\+Params} $\ast$params)
\begin{DoxyCompactList}\small\item\em Function to initialize a given I2\+C\+Slave peripheral specified by the particular index value. The parameter specifies which mode the I2\+C\+Slave will operate. \end{DoxyCompactList}\item 
void \hyperlink{_i2_c_slave_8h_a3c29bf7436be17348ea73fabb6ede3ae}{I2\+C\+Slave\+\_\+\+Params\+\_\+init} (\hyperlink{struct_i2_c_slave___params}{I2\+C\+Slave\+\_\+\+Params} $\ast$params)
\begin{DoxyCompactList}\small\item\em Function to initialize the \hyperlink{struct_i2_c_slave___params}{I2\+C\+Slave\+\_\+\+Params} struct to its defaults. \end{DoxyCompactList}\item 
bool \hyperlink{_i2_c_slave_8h_ad5409f453e769676593a1a14d0ba6d7b}{I2\+C\+Slave\+\_\+read} (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} handle, void $\ast$buffer, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Function that handles the I2\+C\+Slave read for S\+Y\+S/\+B\+I\+O\+S. \end{DoxyCompactList}\item 
bool \hyperlink{_i2_c_slave_8h_a66c5d4103e022318c746c592ab2295f8}{I2\+C\+Slave\+\_\+write} (\hyperlink{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}{I2\+C\+Slave\+\_\+\+Handle} handle, const void $\ast$buffer, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Function that handles the I2\+C\+Slave write for S\+Y\+S/\+B\+I\+O\+S. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Macro Definition Documentation}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+C\+M\+D\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+C\+M\+D\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D}}
\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+C\+M\+D\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+C\+M\+D\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+S\+L\+A\+V\+E\+\_\+\+C\+M\+D\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define I2\+C\+S\+L\+A\+V\+E\+\_\+\+C\+M\+D\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D~32}\label{_i2_c_slave_8h_a50e2b786948f487d4cb975e5581d93df}
Common I2\+C\+Slave\+\_\+control command code reservation offset. I2\+C\+Slave driver implementations should offset command codes with I2\+C\+S\+L\+A\+V\+E\+\_\+\+C\+M\+D\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D growing positively

Example implementation specific command codes\+: 
\begin{DoxyCode}
1 #define I2CSLAVEXYZ\_COMMAND0          I2CSLAVE\_CMD\_RESERVED + 0
2 #define I2CSLAVEXYZ\_COMMAND1          I2CSLAVE\_CMD\_RESERVED + 1
\end{DoxyCode}
 \index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D}}
\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D~-\/32}\label{_i2_c_slave_8h_a9fe1fa8f941643c68c443fc089fadf3c}
Common I2\+C\+Slave\+\_\+control status code reservation offset. I2\+C\+Slave driver implementations should offset status codes with I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D growing negatively.

Example implementation specific status codes\+: 
\begin{DoxyCode}
1 #define I2CSLAVEXYZ\_STATUS\_ERROR0     I2CSLAVE\_STATUS\_RESERVED - 0
2 #define I2CSLAVEXYZ\_STATUS\_ERROR1     I2CSLAVE\_STATUS\_RESERVED - 1
3 #define I2CSLAVEXYZ\_STATUS\_ERROR2     I2CSLAVE\_STATUS\_RESERVED - 2
\end{DoxyCode}
 \index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S}}
\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S~0}\label{_i2_c_slave_8h_a5fefb558e9268fd792ec49f80b697474}


Successful status code returned by \hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()}. 

\hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()} returns I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S if the control code was executed successfully. \index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+O\+R@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+O\+R}}
\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+O\+R@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+O\+R}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+O\+R}]{\setlength{\rightskip}{0pt plus 5cm}\#define I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+O\+R~-\/1}\label{_i2_c_slave_8h_acae8b3350c196cdb215b25d7ca170708}


Generic error status code returned by \hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()}. 

\hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()} returns I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+O\+R if the control code was not executed successfully. \index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D\+C\+M\+D@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D\+C\+M\+D}}
\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D\+C\+M\+D@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D\+C\+M\+D}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D\+C\+M\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D\+C\+M\+D~-\/2}\label{_i2_c_slave_8h_a379b9d624bb9cd78f3d4991cc2d15dd2}


An error status code returned by \hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()} for undefined command codes. 

\hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()} returns I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D\+C\+M\+D if the control code is not recognized by the driver implementation. 

\subsubsection{Typedef Documentation}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Handle@{I2\+C\+Slave\+\_\+\+Handle}}
\index{I2\+C\+Slave\+\_\+\+Handle@{I2\+C\+Slave\+\_\+\+Handle}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Handle}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf I2\+C\+Slave\+\_\+\+Config}$\ast$ {\bf I2\+C\+Slave\+\_\+\+Handle}}\label{_i2_c_slave_8h_a302d775f802ff66ed2ca05e1956f738e}


A handle that is returned from a \hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open()} call. 

\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Mode@{I2\+C\+Slave\+\_\+\+Mode}}
\index{I2\+C\+Slave\+\_\+\+Mode@{I2\+C\+Slave\+\_\+\+Mode}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Mode}]{\setlength{\rightskip}{0pt plus 5cm}typedef enum {\bf I2\+C\+Slave\+\_\+\+Mode}  {\bf I2\+C\+Slave\+\_\+\+Mode}}\label{_i2_c_slave_8h_aa33e86864be8bf1597048f105b5ef9d0}


I2\+C\+Slave mode. 

This enum defines the state of the I2\+C\+Slave driver\textquotesingle{}s state-\/machine. Do not modify. \index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Transfer\+Mode@{I2\+C\+Slave\+\_\+\+Transfer\+Mode}}
\index{I2\+C\+Slave\+\_\+\+Transfer\+Mode@{I2\+C\+Slave\+\_\+\+Transfer\+Mode}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Transfer\+Mode}]{\setlength{\rightskip}{0pt plus 5cm}typedef enum {\bf I2\+C\+Slave\+\_\+\+Transfer\+Mode}  {\bf I2\+C\+Slave\+\_\+\+Transfer\+Mode}}\label{_i2_c_slave_8h_a788e85749c883393490ad7e49d19b22d}


I2\+C\+Slave transfer mode. 

I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G block task execution a I2\+C\+Slave transfer is in progress. I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K does not block task execution; but calls a callback function when the I2\+C\+Slave transfer has completed \index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Callback\+Fxn@{I2\+C\+Slave\+\_\+\+Callback\+Fxn}}
\index{I2\+C\+Slave\+\_\+\+Callback\+Fxn@{I2\+C\+Slave\+\_\+\+Callback\+Fxn}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Callback\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ I2\+C\+Slave\+\_\+\+Callback\+Fxn) ({\bf I2\+C\+Slave\+\_\+\+Handle}, bool)}\label{_i2_c_slave_8h_a2f0d1d9022a0668ad78e7ff37298d24a}


I2\+C\+Slave callback function. 

User definable callback function prototype. The I2\+C\+Slave driver will call the defined function and pass in the I2\+C\+Slave driver\textquotesingle{}s handle, and the return value of I2\+C\+Slave\+\_\+read/\+I2\+C\+Slave\+\_\+write.


\begin{DoxyParams}{Parameters}
{\em I2\+C\+Slave\+\_\+\+Handle} & I2\+C\+Slave\+\_\+\+Handle\\
\hline
{\em bool} & Results of the I2\+C\+Slave transaction \\
\hline
\end{DoxyParams}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Params@{I2\+C\+Slave\+\_\+\+Params}}
\index{I2\+C\+Slave\+\_\+\+Params@{I2\+C\+Slave\+\_\+\+Params}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf I2\+C\+Slave\+\_\+\+Params}  {\bf I2\+C\+Slave\+\_\+\+Params}}\label{_i2_c_slave_8h_a9cd68573732e7853e3b14af2ec7e7652}


I2\+C\+Slave Parameters. 

I2\+C\+Slave parameters are used to with the \hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open()} call. Default values for these parameters are set using \hyperlink{_i2_c_slave_8h_a3c29bf7436be17348ea73fabb6ede3ae}{I2\+C\+Slave\+\_\+\+Params\+\_\+init()}.

If I2\+C\+Slave\+\_\+\+Transfer\+Mode is set to I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G then I2\+C\+Slave\+\_\+read or I2\+C\+Slave\+\_\+write function calls will block thread execution until the transaction has completed.

If I2\+C\+Slave\+\_\+\+Transfer\+Mode is set to I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K then I2\+C\+Slave read/write will not block thread execution and it will call the function specified by transfer\+Callback\+Fxn. (regardless of error state).

\begin{DoxySeeAlso}{See also}
\hyperlink{_i2_c_slave_8h_a3c29bf7436be17348ea73fabb6ede3ae}{I2\+C\+Slave\+\_\+\+Params\+\_\+init()} 
\end{DoxySeeAlso}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Close\+Fxn@{I2\+C\+Slave\+\_\+\+Close\+Fxn}}
\index{I2\+C\+Slave\+\_\+\+Close\+Fxn@{I2\+C\+Slave\+\_\+\+Close\+Fxn}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Close\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ I2\+C\+Slave\+\_\+\+Close\+Fxn) ({\bf I2\+C\+Slave\+\_\+\+Handle} handle)}\label{_i2_c_slave_8h_a9a2e6a8574316d6a494d208de4329fc7}


A function pointer to a driver specific implementation of \hyperlink{_i2_c_slave_8h_a323cbb394c10ab1018820c9a76eccc18}{I2\+C\+Slave\+\_\+close()}. 

\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Control\+Fxn@{I2\+C\+Slave\+\_\+\+Control\+Fxn}}
\index{I2\+C\+Slave\+\_\+\+Control\+Fxn@{I2\+C\+Slave\+\_\+\+Control\+Fxn}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Control\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef int($\ast$ I2\+C\+Slave\+\_\+\+Control\+Fxn) ({\bf I2\+C\+Slave\+\_\+\+Handle} handle, unsigned int cmd, void $\ast$arg)}\label{_i2_c_slave_8h_a895a9a94cd98b391cdd3d54ef62dd86a}


A function pointer to a driver specific implementation of \hyperlink{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}{I2\+C\+Slave\+\_\+control()}. 

\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Init\+Fxn@{I2\+C\+Slave\+\_\+\+Init\+Fxn}}
\index{I2\+C\+Slave\+\_\+\+Init\+Fxn@{I2\+C\+Slave\+\_\+\+Init\+Fxn}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Init\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ I2\+C\+Slave\+\_\+\+Init\+Fxn) ({\bf I2\+C\+Slave\+\_\+\+Handle} handle)}\label{_i2_c_slave_8h_ae821c2b97cf6640cd58b8e0c40efb464}


A function pointer to a driver specific implementation of \hyperlink{_i2_c_slave_8h_ad7518283a3f3fb80cefe6cb7ca7a4a36}{I2\+C\+Slave\+\_\+init()}. 

\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Open\+Fxn@{I2\+C\+Slave\+\_\+\+Open\+Fxn}}
\index{I2\+C\+Slave\+\_\+\+Open\+Fxn@{I2\+C\+Slave\+\_\+\+Open\+Fxn}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Open\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf I2\+C\+Slave\+\_\+\+Handle}($\ast$ I2\+C\+Slave\+\_\+\+Open\+Fxn) ({\bf I2\+C\+Slave\+\_\+\+Handle} handle, {\bf I2\+C\+Slave\+\_\+\+Params} $\ast$params)}\label{_i2_c_slave_8h_a7c6638bde6397024b1f1ece4f9baed37}


A function pointer to a driver specific implementation of \hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open()}. 

\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Write\+Fxn@{I2\+C\+Slave\+\_\+\+Write\+Fxn}}
\index{I2\+C\+Slave\+\_\+\+Write\+Fxn@{I2\+C\+Slave\+\_\+\+Write\+Fxn}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Write\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef bool($\ast$ I2\+C\+Slave\+\_\+\+Write\+Fxn) ({\bf I2\+C\+Slave\+\_\+\+Handle} handle, const void $\ast$buffer, size\+\_\+t size)}\label{_i2_c_slave_8h_a7515207a9b0bde39ff2744ac3ed366ea}


A function pointer to a driver specific implementation of I2\+C\+Slave\+\_\+\+Write\+Transaction(). 

\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Read\+Fxn@{I2\+C\+Slave\+\_\+\+Read\+Fxn}}
\index{I2\+C\+Slave\+\_\+\+Read\+Fxn@{I2\+C\+Slave\+\_\+\+Read\+Fxn}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Read\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef bool($\ast$ I2\+C\+Slave\+\_\+\+Read\+Fxn) ({\bf I2\+C\+Slave\+\_\+\+Handle} handle, void $\ast$buffer, size\+\_\+t size)}\label{_i2_c_slave_8h_ac74d6f05afaf02a4238fe59a588cd787}


A function pointer to a driver specific implementation of \hyperlink{_i2_c_slave_8h_ac74d6f05afaf02a4238fe59a588cd787}{I2\+C\+Slave\+\_\+\+Read\+Fxn()}. 

\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Fxn\+Table@{I2\+C\+Slave\+\_\+\+Fxn\+Table}}
\index{I2\+C\+Slave\+\_\+\+Fxn\+Table@{I2\+C\+Slave\+\_\+\+Fxn\+Table}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Fxn\+Table}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf I2\+C\+Slave\+\_\+\+Fxn\+Table}  {\bf I2\+C\+Slave\+\_\+\+Fxn\+Table}}\label{_i2_c_slave_8h_a5c5679b810eaceb9aef157fefe2e4608}


The definition of a I2\+C\+Slave function table that contains the required set of functions to control a specific I2\+C\+Slave driver implementation. 

\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Config@{I2\+C\+Slave\+\_\+\+Config}}
\index{I2\+C\+Slave\+\_\+\+Config@{I2\+C\+Slave\+\_\+\+Config}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Config}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf I2\+C\+Slave\+\_\+\+Config}  {\bf I2\+C\+Slave\+\_\+\+Config}}\label{_i2_c_slave_8h_a8f8cf70723a9a12867dbdb3e12caa300}


I2\+C\+Slave Global configuration. 

The \hyperlink{struct_i2_c_slave___config}{I2\+C\+Slave\+\_\+\+Config} structure contains a set of pointers used to characterize the I2\+C\+Slave driver implementation.

This structure needs to be defined before calling \hyperlink{_i2_c_slave_8h_ad7518283a3f3fb80cefe6cb7ca7a4a36}{I2\+C\+Slave\+\_\+init()} and it must not be changed thereafter.

\begin{DoxySeeAlso}{See also}
\hyperlink{_i2_c_slave_8h_ad7518283a3f3fb80cefe6cb7ca7a4a36}{I2\+C\+Slave\+\_\+init()} 
\end{DoxySeeAlso}


\subsubsection{Enumeration Type Documentation}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Mode@{I2\+C\+Slave\+\_\+\+Mode}}
\index{I2\+C\+Slave\+\_\+\+Mode@{I2\+C\+Slave\+\_\+\+Mode}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Mode}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf I2\+C\+Slave\+\_\+\+Mode}}\label{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97ca}


I2\+C\+Slave mode. 

This enum defines the state of the I2\+C\+Slave driver\textquotesingle{}s state-\/machine. Do not modify. \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+I\+D\+L\+E\+\_\+\+M\+O\+D\+E@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+I\+D\+L\+E\+\_\+\+M\+O\+D\+E}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+I\+D\+L\+E\+\_\+\+M\+O\+D\+E@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+I\+D\+L\+E\+\_\+\+M\+O\+D\+E}}\item[{\em 
I2\+C\+S\+L\+A\+V\+E\+\_\+\+I\+D\+L\+E\+\_\+\+M\+O\+D\+E\label{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97caa0e5216f404dc3b5adf0da3c292d9217a}
}]\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+M\+O\+D\+E@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+M\+O\+D\+E}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+M\+O\+D\+E@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+M\+O\+D\+E}}\item[{\em 
I2\+C\+S\+L\+A\+V\+E\+\_\+\+W\+R\+I\+T\+E\+\_\+\+M\+O\+D\+E\label{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97caa74dcfa16de3abf3db4438ab4b0714522}
}]\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+R\+E\+A\+D\+\_\+\+M\+O\+D\+E@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+R\+E\+A\+D\+\_\+\+M\+O\+D\+E}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+R\+E\+A\+D\+\_\+\+M\+O\+D\+E@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+R\+E\+A\+D\+\_\+\+M\+O\+D\+E}}\item[{\em 
I2\+C\+S\+L\+A\+V\+E\+\_\+\+R\+E\+A\+D\+\_\+\+M\+O\+D\+E\label{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97caada9f2fb28cb0a3bb13520f6e77c8f126}
}]\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+R\+T\+\_\+\+M\+O\+D\+E@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+R\+T\+\_\+\+M\+O\+D\+E}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+R\+T\+\_\+\+M\+O\+D\+E@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+R\+T\+\_\+\+M\+O\+D\+E}}\item[{\em 
I2\+C\+S\+L\+A\+V\+E\+\_\+\+S\+T\+A\+R\+T\+\_\+\+M\+O\+D\+E\label{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97caaa4f7f07c5cb10d98cc9dd08ffc40cf9a}
}]\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+E\+R\+R\+O\+R@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+E\+R\+R\+O\+R}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+E\+R\+R\+O\+R@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+E\+R\+R\+O\+R}}\item[{\em 
I2\+C\+S\+L\+A\+V\+E\+\_\+\+E\+R\+R\+O\+R\label{_i2_c_slave_8h_a85d8ab819c05086d764dfd0a257b97caa3f8c8244ead6629a301932793995b790}
}]\end{description}
\end{Desc}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Transfer\+Mode@{I2\+C\+Slave\+\_\+\+Transfer\+Mode}}
\index{I2\+C\+Slave\+\_\+\+Transfer\+Mode@{I2\+C\+Slave\+\_\+\+Transfer\+Mode}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Transfer\+Mode}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf I2\+C\+Slave\+\_\+\+Transfer\+Mode}}\label{_i2_c_slave_8h_a5e27f9ba25088f9e7071e3e6f806559d}


I2\+C\+Slave transfer mode. 

I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G block task execution a I2\+C\+Slave transfer is in progress. I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K does not block task execution; but calls a callback function when the I2\+C\+Slave transfer has completed \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G}}\item[{\em 
I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G\label{_i2_c_slave_8h_a5e27f9ba25088f9e7071e3e6f806559dac85f5a1e6bca3d9402b2e5704387fa8f}
}]I2\+C\+Slave read/write blocks execution \index{I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K@{I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K}}\item[{\em 
I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\label{_i2_c_slave_8h_a5e27f9ba25088f9e7071e3e6f806559da1dda6ae35d8aa92739d2714a4eaa4107}
}]I2\+C\+Slave read/wrire queues transactions and does not block \end{description}
\end{Desc}


\subsubsection{Function Documentation}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+close@{I2\+C\+Slave\+\_\+close}}
\index{I2\+C\+Slave\+\_\+close@{I2\+C\+Slave\+\_\+close}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+close}]{\setlength{\rightskip}{0pt plus 5cm}void I2\+C\+Slave\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf I2\+C\+Slave\+\_\+\+Handle}}]{handle}
\end{DoxyParamCaption}
)}\label{_i2_c_slave_8h_a323cbb394c10ab1018820c9a76eccc18}


Function to close a I2\+C\+Slave peripheral specified by the I2\+C\+Slave handle. 

\begin{DoxyPrecond}{Precondition}
\hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open()} had to be called first.
\end{DoxyPrecond}

\begin{DoxyParams}{Parameters}
{\em handle} & A I2\+C\+Slave\+\_\+\+Handle returned from I2\+C\+Slave\+\_\+open\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open()} 
\end{DoxySeeAlso}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+control@{I2\+C\+Slave\+\_\+control}}
\index{I2\+C\+Slave\+\_\+control@{I2\+C\+Slave\+\_\+control}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+control}]{\setlength{\rightskip}{0pt plus 5cm}int I2\+C\+Slave\+\_\+control (
\begin{DoxyParamCaption}
\item[{{\bf I2\+C\+Slave\+\_\+\+Handle}}]{handle, }
\item[{unsigned int}]{cmd, }
\item[{void $\ast$}]{arg}
\end{DoxyParamCaption}
)}\label{_i2_c_slave_8h_abcd38688f29738ee33b1748a42a3b140}


Function performs implementation specific features on a given I2\+C\+Slave\+\_\+\+Handle. 

\begin{DoxyPrecond}{Precondition}
\hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open()} has to be called first.
\end{DoxyPrecond}

\begin{DoxyParams}{Parameters}
{\em handle} & A I2\+C\+Slave handle returned from \hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open()}\\
\hline
{\em cmd} & A command value defined by the driver specific implementation\\
\hline
{\em arg} & An optional R/\+W (read/write) argument that is accompanied with cmd\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Implementation specific return codes. Negative values indicate unsuccessful operations.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open()} 
\end{DoxySeeAlso}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+init@{I2\+C\+Slave\+\_\+init}}
\index{I2\+C\+Slave\+\_\+init@{I2\+C\+Slave\+\_\+init}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void I2\+C\+Slave\+\_\+init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{_i2_c_slave_8h_ad7518283a3f3fb80cefe6cb7ca7a4a36}


Function to initializes the I2\+C\+Slave module. 

\begin{DoxyPrecond}{Precondition}
The I2\+C\+Slave\+\_\+config structure must exist and be persistent before this function can be called. This function must also be called before any other I2\+C\+Slave driver A\+P\+Is. This function call does not modify any peripheral registers. 
\end{DoxyPrecond}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+open@{I2\+C\+Slave\+\_\+open}}
\index{I2\+C\+Slave\+\_\+open@{I2\+C\+Slave\+\_\+open}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+open}]{\setlength{\rightskip}{0pt plus 5cm}{\bf I2\+C\+Slave\+\_\+\+Handle} I2\+C\+Slave\+\_\+open (
\begin{DoxyParamCaption}
\item[{unsigned int}]{index, }
\item[{{\bf I2\+C\+Slave\+\_\+\+Params} $\ast$}]{params}
\end{DoxyParamCaption}
)}\label{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}


Function to initialize a given I2\+C\+Slave peripheral specified by the particular index value. The parameter specifies which mode the I2\+C\+Slave will operate. 

\begin{DoxyPrecond}{Precondition}
I2\+C\+Slave controller has been initialized
\end{DoxyPrecond}

\begin{DoxyParams}{Parameters}
{\em index} & Logical peripheral number for the I2\+C\+Slave indexed into the I2\+C\+Slave\+\_\+config table\\
\hline
{\em params} & Pointer to an parameter block, if N\+U\+L\+L it will use default values. All the fields in this structure are R\+O (read-\/only).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A I2\+C\+Slave\+\_\+\+Handle on success or a N\+U\+L\+L on an error or if it has been opened already.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{_i2_c_slave_8h_ad7518283a3f3fb80cefe6cb7ca7a4a36}{I2\+C\+Slave\+\_\+init()} 

\hyperlink{_i2_c_slave_8h_a323cbb394c10ab1018820c9a76eccc18}{I2\+C\+Slave\+\_\+close()} 
\end{DoxySeeAlso}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+\+Params\+\_\+init@{I2\+C\+Slave\+\_\+\+Params\+\_\+init}}
\index{I2\+C\+Slave\+\_\+\+Params\+\_\+init@{I2\+C\+Slave\+\_\+\+Params\+\_\+init}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+\+Params\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void I2\+C\+Slave\+\_\+\+Params\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf I2\+C\+Slave\+\_\+\+Params} $\ast$}]{params}
\end{DoxyParamCaption}
)}\label{_i2_c_slave_8h_a3c29bf7436be17348ea73fabb6ede3ae}


Function to initialize the \hyperlink{struct_i2_c_slave___params}{I2\+C\+Slave\+\_\+\+Params} struct to its defaults. 


\begin{DoxyParams}{Parameters}
{\em params} & An pointer to \hyperlink{struct_i2_c_slave___params}{I2\+C\+Slave\+\_\+\+Params} structure for initialization\\
\hline
\end{DoxyParams}
Defaults values are\+: transfer\+Mode = I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G transfer\+Callback\+Fxn = N\+U\+L\+L \index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+read@{I2\+C\+Slave\+\_\+read}}
\index{I2\+C\+Slave\+\_\+read@{I2\+C\+Slave\+\_\+read}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+read}]{\setlength{\rightskip}{0pt plus 5cm}bool I2\+C\+Slave\+\_\+read (
\begin{DoxyParamCaption}
\item[{{\bf I2\+C\+Slave\+\_\+\+Handle}}]{handle, }
\item[{void $\ast$}]{buffer, }
\item[{size\+\_\+t}]{size}
\end{DoxyParamCaption}
)}\label{_i2_c_slave_8h_ad5409f453e769676593a1a14d0ba6d7b}


Function that handles the I2\+C\+Slave read for S\+Y\+S/\+B\+I\+O\+S. 

This function will start a I2\+C\+Slave read and can only be called from a Task context when in I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G. The I2\+C\+Slave read procedure starts with evaluating how many bytes are to be readby the I2\+C\+Slave peripheral.

The data written by the I2\+C\+Slave is synchronized with the S\+T\+A\+R\+T and S\+T\+O\+P from the master.

In I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G, I2\+C\+Slave read/write will block task execution until the transaction has completed.

In I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K, I2\+C\+Slave read/write does not block task execution and calls a callback function specified by transfer\+Callback\+Fxn. If a transfer is already taking place, the transaction is put on an internal queue. The queue is serviced in a first come first served basis.


\begin{DoxyParams}{Parameters}
{\em handle} & A I2\+C\+Slave\+\_\+\+Handle\\
\hline
{\em buffer} & A R\+O (read-\/only) pointer to an empty buffer in which received data should be written to.\\
\hline
{\em size} & The number of bytes to be written into buffer\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true on successful transfer false on an error
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open} 
\end{DoxySeeAlso}
\index{I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}!I2\+C\+Slave\+\_\+write@{I2\+C\+Slave\+\_\+write}}
\index{I2\+C\+Slave\+\_\+write@{I2\+C\+Slave\+\_\+write}!I2\+C\+Slave.\+h@{I2\+C\+Slave.\+h}}
\paragraph[{I2\+C\+Slave\+\_\+write}]{\setlength{\rightskip}{0pt plus 5cm}bool I2\+C\+Slave\+\_\+write (
\begin{DoxyParamCaption}
\item[{{\bf I2\+C\+Slave\+\_\+\+Handle}}]{handle, }
\item[{const void $\ast$}]{buffer, }
\item[{size\+\_\+t}]{size}
\end{DoxyParamCaption}
)}\label{_i2_c_slave_8h_a66c5d4103e022318c746c592ab2295f8}


Function that handles the I2\+C\+Slave write for S\+Y\+S/\+B\+I\+O\+S. 

This function will start a I2\+C\+Slave write and can only be called from a Task context when in I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G. The I2\+C\+Slave transfer procedure starts with evaluating how many bytes are to be written.

The data written by the I2\+C\+Slave is synchronized with the S\+T\+A\+R\+T and S\+T\+O\+P from the master. If slave does not have as many bytes requested by master it writes 0x\+F\+F. I2\+C\+Slave keeps sending 0x\+F\+F till master sends a S\+T\+O\+P.

In I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+B\+L\+O\+C\+K\+I\+N\+G, I2\+C\+Slave read/write will block task execution until the transaction has completed.

In I2\+C\+S\+L\+A\+V\+E\+\_\+\+M\+O\+D\+E\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K, I2\+C\+Slave read/write does not block task execution and calls a callback function specified by transfer\+Callback\+Fxn. If a transfer is already taking place, the transaction is put on an internal queue. The queue is serviced in a first come first served basis. The I2\+C\+Slave\+\_\+\+Transaction structure must stay persistent until the I2\+C\+Slave read/write function has completed!


\begin{DoxyParams}{Parameters}
{\em handle} & A I2\+C\+Slave\+\_\+\+Handle\\
\hline
{\em buffer} & A W\+O (write-\/only) pointer to buffer containing data to be written to the master.\\
\hline
{\em size} & The number of bytes in buffer that should be written onto the master.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true on successful write false on an error
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{_i2_c_slave_8h_abdfc770ace6accbf91b91f3e195e7119}{I2\+C\+Slave\+\_\+open} 
\end{DoxySeeAlso}
