\subsection{N\+V\+S.\+h File Reference}
\label{_n_v_s_8h}\index{N\+V\+S.\+h@{N\+V\+S.\+h}}


\subsubsection{Detailed Description}
{\bfseries P\+R\+E\+L\+I\+M\+I\+N\+A\+R\+Y} Non-\/\+Volatile Storage Driver. 

==========================================================================

{\bfseries W\+A\+R\+N\+I\+N\+G} These A\+P\+Is are {\bfseries P\+R\+E\+L\+I\+M\+I\+N\+A\+R\+Y}, and subject to change in the next few months.

The N\+V\+S header file should be included in an application as follows\+: 
\begin{DoxyCode}
\textcolor{preprocessor}{#include <ti/drivers/NVS.h>}
\end{DoxyCode}


\subsubsection*{Operation}

The N\+V\+S module allows you to manage non-\/volatile memory. Using the N\+V\+S A\+P\+Is, you can read and write data to persistant storage. Each N\+V\+S object manages a \textquotesingle{}block\textquotesingle{} of non-\/volatile memory of a size specified in the N\+V\+S object\textquotesingle{}s hardware attributes. A \textquotesingle{}page\textquotesingle{} will refer to the smallest unit of non-\/volatile storage that can be erased at one time, and the page size is the size of this unit. This is hardware specific and may be meaningless for some persistant storage systems. However, in the case of flash memory, page size should be taken into account when deciding the block size for N\+V\+S to manage. For example on T\+M4\+C129x devices, a page size is 16\+K\+B.

When page size is relevant (e.\+g. for flash memory), the size of an N\+V\+S block size must be less than or equal to the page size. The block size can be less than the page size, however, care must be taken not to use the area in the page outside of the block. When the block is erased, the entire page will be erased, clearing anything in the page that was written outside of the block.

See the device specific N\+V\+S header file for configuration details. 

{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$stddef.\+h$>$}\\*
{\ttfamily \#include $<$stdbool.\+h$>$}\\*
Include dependency graph for N\+V\+S.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{_n_v_s_8h__incl}
\end{center}
\end{figure}
\subsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_n_v_s___params}{N\+V\+S\+\_\+\+Params}
\begin{DoxyCompactList}\small\item\em N\+V\+S Parameters. \end{DoxyCompactList}\item 
struct \hyperlink{struct_n_v_s___attrs}{N\+V\+S\+\_\+\+Attrs}
\begin{DoxyCompactList}\small\item\em N\+V\+S attributes. \end{DoxyCompactList}\item 
struct \hyperlink{struct_n_v_s___fxn_table}{N\+V\+S\+\_\+\+Fxn\+Table}
\begin{DoxyCompactList}\small\item\em The definition of an N\+V\+S function table that contains the required set of functions to control a specific N\+V\+S driver implementation. \end{DoxyCompactList}\item 
struct \hyperlink{struct_n_v_s___config}{N\+V\+S\+\_\+\+Config}
\begin{DoxyCompactList}\small\item\em N\+V\+S Global configuration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group___n_v_s___c_o_n_t_r_o_l_gaa9fa1c41660d17139bce63ff34cd774f}{N\+V\+S\+\_\+\+C\+M\+D\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D}~32
\item 
\#define \hyperlink{group___n_v_s___c_o_n_t_r_o_l_gad82fd139152ca14946c80c6c91edb4a0}{N\+V\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+R\+E\+S\+E\+R\+V\+E\+D}~-\/32
\item 
\#define \hyperlink{group___n_v_s___s_t_a_t_u_s_ga5f3b6583ee909863b86799762dc8b4aa}{N\+V\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+U\+C\+C\+E\+S\+S}~0
\begin{DoxyCompactList}\small\item\em Successful status code returned by \hyperlink{_n_v_s_8h_adb26bd05e4f063191411ac5ad968b1d9}{N\+V\+S\+\_\+control()}. \end{DoxyCompactList}\item 
\#define \hyperlink{group___n_v_s___s_t_a_t_u_s_ga995c9896630b7a0cd1662e7be9c4cf34}{N\+V\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+O\+R}~-\/1
\begin{DoxyCompactList}\small\item\em Generic error status code returned by \hyperlink{_n_v_s_8h_adb26bd05e4f063191411ac5ad968b1d9}{N\+V\+S\+\_\+control()}. \end{DoxyCompactList}\item 
\#define \hyperlink{group___n_v_s___s_t_a_t_u_s_gac8aa59663f65af4fa564a3a83cd7d6e1}{N\+V\+S\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+D\+E\+F\+I\+N\+E\+D\+C\+M\+D}~-\/2
\begin{DoxyCompactList}\small\item\em An error status code returned by \hyperlink{_n_v_s_8h_adb26bd05e4f063191411ac5ad968b1d9}{N\+V\+S\+\_\+control()} for undefined command codes. \end{DoxyCompactList}\item 
\#define \hyperlink{_n_v_s_8h_a6ea76de6ce4b7acecab17c0a1d900d90}{N\+V\+S\+\_\+\+S\+O\+K}~(0)
\begin{DoxyCompactList}\small\item\em Success return code. \end{DoxyCompactList}\item 
\#define \hyperlink{_n_v_s_8h_a99d797951d6c3adbaf6e19b415dc5673}{N\+V\+S\+\_\+\+E\+F\+A\+I\+L}~(-\/1)
\begin{DoxyCompactList}\small\item\em General failure return code. \end{DoxyCompactList}\item 
\#define \hyperlink{_n_v_s_8h_ab0d903829eae27a8c8680411df23a91d}{N\+V\+S\+\_\+\+E\+O\+F\+F\+S\+E\+T}~(-\/3)
\item 
\#define \hyperlink{_n_v_s_8h_a2f03b8cbbca79f4344b1ffb8ee66f364}{N\+V\+S\+\_\+\+E\+A\+L\+I\+G\+N}~(-\/4)
\item 
\#define \hyperlink{_n_v_s_8h_a5a750a60b3d829e466763a4ba46a441e}{N\+V\+S\+\_\+\+E\+N\+O\+T\+E\+N\+O\+U\+G\+H\+B\+Y\+T\+E\+S}~(-\/5)
\item 
\#define \hyperlink{_n_v_s_8h_a4db9b4f738a4b5439ab742060ad53ebd}{N\+V\+S\+\_\+\+E\+A\+L\+R\+E\+A\+D\+Y\+W\+R\+I\+T\+T\+E\+N}~(-\/6)
\item 
\#define \hyperlink{_n_v_s_8h_a946508ac9e10fec555f9ba4926fdce62}{N\+V\+S\+\_\+\+E\+C\+O\+P\+Y\+B\+L\+O\+C\+K}~(-\/7)
\item 
\#define \hyperlink{_n_v_s_8h_ab3235132a5cebc663aee601e238b8d98}{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+X\+C\+L\+U\+S\+I\+V\+E}~(0x1)
\begin{DoxyCompactList}\small\item\em N\+V\+S write flags. \end{DoxyCompactList}\item 
\#define \hyperlink{_n_v_s_8h_afdf449ac94235c5c4b108f5e5e925f03}{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+R\+A\+S\+E}~(0x2)
\begin{DoxyCompactList}\small\item\em Erase write flag. \end{DoxyCompactList}\item 
\#define \hyperlink{_n_v_s_8h_a7c3340627bf9957b1ea3c1e1e2e0eddc}{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+V\+A\+L\+I\+D\+A\+T\+E}~(0x4)
\begin{DoxyCompactList}\small\item\em Validate write flag. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct_n_v_s___params}{N\+V\+S\+\_\+\+Params} \hyperlink{_n_v_s_8h_a00d64340188bed30cc27be46cf8a5aa4}{N\+V\+S\+\_\+\+Params}
\begin{DoxyCompactList}\small\item\em N\+V\+S Parameters. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_n_v_s___attrs}{N\+V\+S\+\_\+\+Attrs} \hyperlink{_n_v_s_8h_a28426a848b1ff2a02474ea663856345f}{N\+V\+S\+\_\+\+Attrs}
\begin{DoxyCompactList}\small\item\em N\+V\+S attributes. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_n_v_s___config}{N\+V\+S\+\_\+\+Config} $\ast$ \hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle}
\begin{DoxyCompactList}\small\item\em A handle that is returned from the \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()} call. \end{DoxyCompactList}\item 
typedef void($\ast$ \hyperlink{_n_v_s_8h_a82f2a5311bf6dc69d62046fe20c3e108}{N\+V\+S\+\_\+\+Close\+Fxn}) (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_a12147fcc41f532802d97c0784c3e30c3}{N\+V\+S\+\_\+close()}. \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{_n_v_s_8h_a893a6b6ea0d408e348267109f3aa2736}{N\+V\+S\+\_\+\+Control\+Fxn}) (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle, unsigned int cmd, uintptr\+\_\+t arg)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_adb26bd05e4f063191411ac5ad968b1d9}{N\+V\+S\+\_\+control()}. \end{DoxyCompactList}\item 
typedef void($\ast$ \hyperlink{_n_v_s_8h_ab15ab786e165ed50b8c2e7f6bf9e3173}{N\+V\+S\+\_\+\+Exit\+Fxn}) (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_aa72b8cbb46bfc2a9e61102144a58b554}{N\+V\+S\+\_\+exit()}. \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{_n_v_s_8h_a6f07b7dcd80b867b79f84152c449f059}{N\+V\+S\+\_\+\+Get\+Attrs\+Fxn}) (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle, \hyperlink{struct_n_v_s___attrs}{N\+V\+S\+\_\+\+Attrs} $\ast$attrs)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_a6b92f45097f377824524f7a4f33f02b1}{N\+V\+S\+\_\+get\+Attrs()}. \end{DoxyCompactList}\item 
typedef void($\ast$ \hyperlink{_n_v_s_8h_ad2e24ef1cb8bad08b75bc36c6a9cc36d}{N\+V\+S\+\_\+\+Init\+Fxn}) (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_a94e249f718eba502cdf34d098c83209e}{N\+V\+S\+\_\+init()}. \end{DoxyCompactList}\item 
typedef \hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle}($\ast$ \hyperlink{_n_v_s_8h_ad4be882e6ffecd7d54c3daa02a41752b}{N\+V\+S\+\_\+\+Open\+Fxn}) (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle, \hyperlink{struct_n_v_s___params}{N\+V\+S\+\_\+\+Params} $\ast$params)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()}. \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{_n_v_s_8h_ac5f94f84441e53eecbb1e3e6af41f019}{N\+V\+S\+\_\+\+Read\+Fxn}) (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle, size\+\_\+t offset, void $\ast$buffer, size\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_ac966d3124df42478325b6a2f4def117b}{N\+V\+S\+\_\+read()}. \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{_n_v_s_8h_ad512db474e5833af4330fb57095c7fca}{N\+V\+S\+\_\+\+Write\+Fxn}) (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle, size\+\_\+t offset, void $\ast$buffer, size\+\_\+t buffer\+Size, unsigned int flags)
\begin{DoxyCompactList}\small\item\em A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_a2c0acbdec0a65dc725019adb65ad282a}{N\+V\+S\+\_\+write()}. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_n_v_s___fxn_table}{N\+V\+S\+\_\+\+Fxn\+Table} \hyperlink{_n_v_s_8h_a54257fb6f2f9762bcc8bb3d6ce27cde8}{N\+V\+S\+\_\+\+Fxn\+Table}
\begin{DoxyCompactList}\small\item\em The definition of an N\+V\+S function table that contains the required set of functions to control a specific N\+V\+S driver implementation. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_n_v_s___config}{N\+V\+S\+\_\+\+Config} \hyperlink{_n_v_s_8h_ac19e1a4723b1faf8a7f419d2abf7e8e6}{N\+V\+S\+\_\+\+Config}
\begin{DoxyCompactList}\small\item\em N\+V\+S Global configuration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_n_v_s_8h_a12147fcc41f532802d97c0784c3e30c3}{N\+V\+S\+\_\+close} (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle)
\begin{DoxyCompactList}\small\item\em Function to close an N\+V\+S handle. \end{DoxyCompactList}\item 
int \hyperlink{_n_v_s_8h_adb26bd05e4f063191411ac5ad968b1d9}{N\+V\+S\+\_\+control} (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle, unsigned int cmd, uintptr\+\_\+t arg)
\begin{DoxyCompactList}\small\item\em Function performs implementation specific features on a given N\+V\+S\+\_\+\+Handle. \end{DoxyCompactList}\item 
int \hyperlink{_n_v_s_8h_af541d0cf115b8de4168eef31133364dc}{N\+V\+S\+\_\+erase} (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle)
\begin{DoxyCompactList}\small\item\em Erase the block of storage reference by an N\+V\+S handle. \end{DoxyCompactList}\item 
void \hyperlink{_n_v_s_8h_aa72b8cbb46bfc2a9e61102144a58b554}{N\+V\+S\+\_\+exit} (void)
\begin{DoxyCompactList}\small\item\em Function to de-\/initialize the N\+V\+S module. \end{DoxyCompactList}\item 
int \hyperlink{_n_v_s_8h_a6b92f45097f377824524f7a4f33f02b1}{N\+V\+S\+\_\+get\+Attrs} (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle, \hyperlink{struct_n_v_s___attrs}{N\+V\+S\+\_\+\+Attrs} $\ast$attrs)
\begin{DoxyCompactList}\small\item\em Function to get the N\+V\+S attributes. \end{DoxyCompactList}\item 
void \hyperlink{_n_v_s_8h_a94e249f718eba502cdf34d098c83209e}{N\+V\+S\+\_\+init} (void)
\begin{DoxyCompactList}\small\item\em Function to initialize the N\+V\+S module. \end{DoxyCompactList}\item 
\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open} (int index, \hyperlink{struct_n_v_s___params}{N\+V\+S\+\_\+\+Params} $\ast$params)
\begin{DoxyCompactList}\small\item\em Get an N\+V\+S block for reading and writing. \end{DoxyCompactList}\item 
int \hyperlink{_n_v_s_8h_ac966d3124df42478325b6a2f4def117b}{N\+V\+S\+\_\+read} (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle, size\+\_\+t offset, void $\ast$buffer, size\+\_\+t buffer\+Size)
\begin{DoxyCompactList}\small\item\em Read data from an N\+V\+S block. \end{DoxyCompactList}\item 
int \hyperlink{_n_v_s_8h_a2c0acbdec0a65dc725019adb65ad282a}{N\+V\+S\+\_\+write} (\hyperlink{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}{N\+V\+S\+\_\+\+Handle} handle, size\+\_\+t offset, void $\ast$buffer, size\+\_\+t buffer\+Size, unsigned int flags)
\begin{DoxyCompactList}\small\item\em Write data to an N\+V\+S block. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Macro Definition Documentation}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+S\+O\+K@{N\+V\+S\+\_\+\+S\+O\+K}}
\index{N\+V\+S\+\_\+\+S\+O\+K@{N\+V\+S\+\_\+\+S\+O\+K}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+S\+O\+K}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+V\+S\+\_\+\+S\+O\+K~(0)}\label{_n_v_s_8h_a6ea76de6ce4b7acecab17c0a1d900d90}


Success return code. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+E\+F\+A\+I\+L@{N\+V\+S\+\_\+\+E\+F\+A\+I\+L}}
\index{N\+V\+S\+\_\+\+E\+F\+A\+I\+L@{N\+V\+S\+\_\+\+E\+F\+A\+I\+L}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+E\+F\+A\+I\+L}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+V\+S\+\_\+\+E\+F\+A\+I\+L~(-\/1)}\label{_n_v_s_8h_a99d797951d6c3adbaf6e19b415dc5673}


General failure return code. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+E\+O\+F\+F\+S\+E\+T@{N\+V\+S\+\_\+\+E\+O\+F\+F\+S\+E\+T}}
\index{N\+V\+S\+\_\+\+E\+O\+F\+F\+S\+E\+T@{N\+V\+S\+\_\+\+E\+O\+F\+F\+S\+E\+T}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+E\+O\+F\+F\+S\+E\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+V\+S\+\_\+\+E\+O\+F\+F\+S\+E\+T~(-\/3)}\label{_n_v_s_8h_ab0d903829eae27a8c8680411df23a91d}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+E\+A\+L\+I\+G\+N@{N\+V\+S\+\_\+\+E\+A\+L\+I\+G\+N}}
\index{N\+V\+S\+\_\+\+E\+A\+L\+I\+G\+N@{N\+V\+S\+\_\+\+E\+A\+L\+I\+G\+N}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+E\+A\+L\+I\+G\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+V\+S\+\_\+\+E\+A\+L\+I\+G\+N~(-\/4)}\label{_n_v_s_8h_a2f03b8cbbca79f4344b1ffb8ee66f364}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+E\+N\+O\+T\+E\+N\+O\+U\+G\+H\+B\+Y\+T\+E\+S@{N\+V\+S\+\_\+\+E\+N\+O\+T\+E\+N\+O\+U\+G\+H\+B\+Y\+T\+E\+S}}
\index{N\+V\+S\+\_\+\+E\+N\+O\+T\+E\+N\+O\+U\+G\+H\+B\+Y\+T\+E\+S@{N\+V\+S\+\_\+\+E\+N\+O\+T\+E\+N\+O\+U\+G\+H\+B\+Y\+T\+E\+S}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+E\+N\+O\+T\+E\+N\+O\+U\+G\+H\+B\+Y\+T\+E\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+V\+S\+\_\+\+E\+N\+O\+T\+E\+N\+O\+U\+G\+H\+B\+Y\+T\+E\+S~(-\/5)}\label{_n_v_s_8h_a5a750a60b3d829e466763a4ba46a441e}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+E\+A\+L\+R\+E\+A\+D\+Y\+W\+R\+I\+T\+T\+E\+N@{N\+V\+S\+\_\+\+E\+A\+L\+R\+E\+A\+D\+Y\+W\+R\+I\+T\+T\+E\+N}}
\index{N\+V\+S\+\_\+\+E\+A\+L\+R\+E\+A\+D\+Y\+W\+R\+I\+T\+T\+E\+N@{N\+V\+S\+\_\+\+E\+A\+L\+R\+E\+A\+D\+Y\+W\+R\+I\+T\+T\+E\+N}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+E\+A\+L\+R\+E\+A\+D\+Y\+W\+R\+I\+T\+T\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+V\+S\+\_\+\+E\+A\+L\+R\+E\+A\+D\+Y\+W\+R\+I\+T\+T\+E\+N~(-\/6)}\label{_n_v_s_8h_a4db9b4f738a4b5439ab742060ad53ebd}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+E\+C\+O\+P\+Y\+B\+L\+O\+C\+K@{N\+V\+S\+\_\+\+E\+C\+O\+P\+Y\+B\+L\+O\+C\+K}}
\index{N\+V\+S\+\_\+\+E\+C\+O\+P\+Y\+B\+L\+O\+C\+K@{N\+V\+S\+\_\+\+E\+C\+O\+P\+Y\+B\+L\+O\+C\+K}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+E\+C\+O\+P\+Y\+B\+L\+O\+C\+K}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+V\+S\+\_\+\+E\+C\+O\+P\+Y\+B\+L\+O\+C\+K~(-\/7)}\label{_n_v_s_8h_a946508ac9e10fec555f9ba4926fdce62}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+X\+C\+L\+U\+S\+I\+V\+E@{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+X\+C\+L\+U\+S\+I\+V\+E}}
\index{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+X\+C\+L\+U\+S\+I\+V\+E@{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+X\+C\+L\+U\+S\+I\+V\+E}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+X\+C\+L\+U\+S\+I\+V\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+X\+C\+L\+U\+S\+I\+V\+E~(0x1)}\label{_n_v_s_8h_ab3235132a5cebc663aee601e238b8d98}


N\+V\+S write flags. 

The following flags can be or\textquotesingle{}d together and passed as a bit mask to N\+V\+S\+\_\+write.

Exclusive write flag

Only write if the area has not already been written to since the last erase. In the case of flash memory on some devices, once data is written to a location, that location cannot be written to again without first erasing the entire flash page. If the N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+X\+C\+L\+U\+S\+I\+V\+E flag is set in the flags passed to \hyperlink{_n_v_s_8h_a2c0acbdec0a65dc725019adb65ad282a}{N\+V\+S\+\_\+write()}, the location where the data will be written to is first checked if it has been modified since the last time the N\+V\+S block was erarsed. If that is the case, \hyperlink{_n_v_s_8h_a2c0acbdec0a65dc725019adb65ad282a}{N\+V\+S\+\_\+write()} will return an error. \index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+R\+A\+S\+E@{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+R\+A\+S\+E}}
\index{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+R\+A\+S\+E@{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+R\+A\+S\+E}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+R\+A\+S\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+R\+A\+S\+E~(0x2)}\label{_n_v_s_8h_afdf449ac94235c5c4b108f5e5e925f03}


Erase write flag. 

If N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+R\+A\+S\+E is set in the flags passed to \hyperlink{_n_v_s_8h_a2c0acbdec0a65dc725019adb65ad282a}{N\+V\+S\+\_\+write()}, the entire N\+V\+S block will be erased before being written to. \index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+V\+A\+L\+I\+D\+A\+T\+E@{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+V\+A\+L\+I\+D\+A\+T\+E}}
\index{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+V\+A\+L\+I\+D\+A\+T\+E@{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+V\+A\+L\+I\+D\+A\+T\+E}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+V\+A\+L\+I\+D\+A\+T\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+V\+A\+L\+I\+D\+A\+T\+E~(0x4)}\label{_n_v_s_8h_a7c3340627bf9957b1ea3c1e1e2e0eddc}


Validate write flag. 

If N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+V\+A\+L\+I\+D\+A\+T\+E is set in the flags passed to \hyperlink{_n_v_s_8h_a2c0acbdec0a65dc725019adb65ad282a}{N\+V\+S\+\_\+write()}, the region in the N\+V\+S block that was written to will be validated (i.\+e., compared against the data buffer passed to \hyperlink{_n_v_s_8h_a2c0acbdec0a65dc725019adb65ad282a}{N\+V\+S\+\_\+write()}). 

\subsubsection{Typedef Documentation}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Params@{N\+V\+S\+\_\+\+Params}}
\index{N\+V\+S\+\_\+\+Params@{N\+V\+S\+\_\+\+Params}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Params}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf N\+V\+S\+\_\+\+Params}  {\bf N\+V\+S\+\_\+\+Params}}\label{_n_v_s_8h_a00d64340188bed30cc27be46cf8a5aa4}


N\+V\+S Parameters. 

N\+V\+S parameters are used with the \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()} call. Default values for these parameters are set using N\+V\+S\+\_\+\+Params\+\_\+init().

\begin{DoxySeeAlso}{See also}
N\+V\+S\+\_\+\+Params\+\_\+init() 
\end{DoxySeeAlso}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Attrs@{N\+V\+S\+\_\+\+Attrs}}
\index{N\+V\+S\+\_\+\+Attrs@{N\+V\+S\+\_\+\+Attrs}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Attrs}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf N\+V\+S\+\_\+\+Attrs}  {\bf N\+V\+S\+\_\+\+Attrs}}\label{_n_v_s_8h_a28426a848b1ff2a02474ea663856345f}


N\+V\+S attributes. 

The address of an \hyperlink{struct_n_v_s___attrs}{N\+V\+S\+\_\+\+Attrs} structure can be passed to \hyperlink{_n_v_s_8h_a6b92f45097f377824524f7a4f33f02b1}{N\+V\+S\+\_\+get\+Attrs()} to fill in the fields.

page\+Size is the size of the smallest erase page. This is hardware specific. For example, all T\+M4\+C123x devices use 1\+K\+B pages, but T\+M4\+C129x devices use 16\+K\+B pages. Please consult the device datasheet to determine the page\+Size to use.

block\+Size is the actual size of the N\+V\+S storage block that the application chooses to manage. If page\+Size is greater than block\+Size, care should be taken not to use the storage on the page that is outside of the block, since it may be erased when writing to the block. The block size must not be greater than the page size.

\begin{DoxySeeAlso}{See also}
\hyperlink{_n_v_s_8h_a6b92f45097f377824524f7a4f33f02b1}{N\+V\+S\+\_\+get\+Attrs()} 
\end{DoxySeeAlso}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Handle@{N\+V\+S\+\_\+\+Handle}}
\index{N\+V\+S\+\_\+\+Handle@{N\+V\+S\+\_\+\+Handle}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Handle}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf N\+V\+S\+\_\+\+Config}$\ast$ {\bf N\+V\+S\+\_\+\+Handle}}\label{_n_v_s_8h_a1ee0bd7b3cd443236454a8cb1f56ad44}


A handle that is returned from the \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()} call. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Close\+Fxn@{N\+V\+S\+\_\+\+Close\+Fxn}}
\index{N\+V\+S\+\_\+\+Close\+Fxn@{N\+V\+S\+\_\+\+Close\+Fxn}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Close\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ N\+V\+S\+\_\+\+Close\+Fxn) ({\bf N\+V\+S\+\_\+\+Handle} handle)}\label{_n_v_s_8h_a82f2a5311bf6dc69d62046fe20c3e108}


A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_a12147fcc41f532802d97c0784c3e30c3}{N\+V\+S\+\_\+close()}. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Control\+Fxn@{N\+V\+S\+\_\+\+Control\+Fxn}}
\index{N\+V\+S\+\_\+\+Control\+Fxn@{N\+V\+S\+\_\+\+Control\+Fxn}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Control\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef int($\ast$ N\+V\+S\+\_\+\+Control\+Fxn) ({\bf N\+V\+S\+\_\+\+Handle} handle, unsigned int cmd, uintptr\+\_\+t arg)}\label{_n_v_s_8h_a893a6b6ea0d408e348267109f3aa2736}


A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_adb26bd05e4f063191411ac5ad968b1d9}{N\+V\+S\+\_\+control()}. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Exit\+Fxn@{N\+V\+S\+\_\+\+Exit\+Fxn}}
\index{N\+V\+S\+\_\+\+Exit\+Fxn@{N\+V\+S\+\_\+\+Exit\+Fxn}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Exit\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ N\+V\+S\+\_\+\+Exit\+Fxn) ({\bf N\+V\+S\+\_\+\+Handle} handle)}\label{_n_v_s_8h_ab15ab786e165ed50b8c2e7f6bf9e3173}


A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_aa72b8cbb46bfc2a9e61102144a58b554}{N\+V\+S\+\_\+exit()}. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Get\+Attrs\+Fxn@{N\+V\+S\+\_\+\+Get\+Attrs\+Fxn}}
\index{N\+V\+S\+\_\+\+Get\+Attrs\+Fxn@{N\+V\+S\+\_\+\+Get\+Attrs\+Fxn}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Get\+Attrs\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef int($\ast$ N\+V\+S\+\_\+\+Get\+Attrs\+Fxn) ({\bf N\+V\+S\+\_\+\+Handle} handle, {\bf N\+V\+S\+\_\+\+Attrs} $\ast$attrs)}\label{_n_v_s_8h_a6f07b7dcd80b867b79f84152c449f059}


A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_a6b92f45097f377824524f7a4f33f02b1}{N\+V\+S\+\_\+get\+Attrs()}. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Init\+Fxn@{N\+V\+S\+\_\+\+Init\+Fxn}}
\index{N\+V\+S\+\_\+\+Init\+Fxn@{N\+V\+S\+\_\+\+Init\+Fxn}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Init\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ N\+V\+S\+\_\+\+Init\+Fxn) ({\bf N\+V\+S\+\_\+\+Handle} handle)}\label{_n_v_s_8h_ad2e24ef1cb8bad08b75bc36c6a9cc36d}


A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_a94e249f718eba502cdf34d098c83209e}{N\+V\+S\+\_\+init()}. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Open\+Fxn@{N\+V\+S\+\_\+\+Open\+Fxn}}
\index{N\+V\+S\+\_\+\+Open\+Fxn@{N\+V\+S\+\_\+\+Open\+Fxn}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Open\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf N\+V\+S\+\_\+\+Handle}($\ast$ N\+V\+S\+\_\+\+Open\+Fxn) ({\bf N\+V\+S\+\_\+\+Handle} handle, {\bf N\+V\+S\+\_\+\+Params} $\ast$params)}\label{_n_v_s_8h_ad4be882e6ffecd7d54c3daa02a41752b}


A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()}. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Read\+Fxn@{N\+V\+S\+\_\+\+Read\+Fxn}}
\index{N\+V\+S\+\_\+\+Read\+Fxn@{N\+V\+S\+\_\+\+Read\+Fxn}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Read\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef int($\ast$ N\+V\+S\+\_\+\+Read\+Fxn) ({\bf N\+V\+S\+\_\+\+Handle} handle, size\+\_\+t offset, void $\ast$buffer, size\+\_\+t buffer\+Size)}\label{_n_v_s_8h_ac5f94f84441e53eecbb1e3e6af41f019}


A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_ac966d3124df42478325b6a2f4def117b}{N\+V\+S\+\_\+read()}. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Write\+Fxn@{N\+V\+S\+\_\+\+Write\+Fxn}}
\index{N\+V\+S\+\_\+\+Write\+Fxn@{N\+V\+S\+\_\+\+Write\+Fxn}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Write\+Fxn}]{\setlength{\rightskip}{0pt plus 5cm}typedef int($\ast$ N\+V\+S\+\_\+\+Write\+Fxn) ({\bf N\+V\+S\+\_\+\+Handle} handle, size\+\_\+t offset, void $\ast$buffer, size\+\_\+t buffer\+Size, unsigned int flags)}\label{_n_v_s_8h_ad512db474e5833af4330fb57095c7fca}


A function pointer to a driver specific implementation of \hyperlink{_n_v_s_8h_a2c0acbdec0a65dc725019adb65ad282a}{N\+V\+S\+\_\+write()}. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Fxn\+Table@{N\+V\+S\+\_\+\+Fxn\+Table}}
\index{N\+V\+S\+\_\+\+Fxn\+Table@{N\+V\+S\+\_\+\+Fxn\+Table}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Fxn\+Table}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf N\+V\+S\+\_\+\+Fxn\+Table}  {\bf N\+V\+S\+\_\+\+Fxn\+Table}}\label{_n_v_s_8h_a54257fb6f2f9762bcc8bb3d6ce27cde8}


The definition of an N\+V\+S function table that contains the required set of functions to control a specific N\+V\+S driver implementation. 

\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+\+Config@{N\+V\+S\+\_\+\+Config}}
\index{N\+V\+S\+\_\+\+Config@{N\+V\+S\+\_\+\+Config}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+\+Config}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf N\+V\+S\+\_\+\+Config}  {\bf N\+V\+S\+\_\+\+Config}}\label{_n_v_s_8h_ac19e1a4723b1faf8a7f419d2abf7e8e6}


N\+V\+S Global configuration. 

The \hyperlink{struct_n_v_s___config}{N\+V\+S\+\_\+\+Config} structure contains a set of pointers used to characterize the N\+V\+S driver implementation.

This structure needs to be defined before calling \hyperlink{_n_v_s_8h_a94e249f718eba502cdf34d098c83209e}{N\+V\+S\+\_\+init()} and it must not be changed thereafter.

\begin{DoxySeeAlso}{See also}
\hyperlink{_n_v_s_8h_a94e249f718eba502cdf34d098c83209e}{N\+V\+S\+\_\+init()} 
\end{DoxySeeAlso}


\subsubsection{Function Documentation}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+close@{N\+V\+S\+\_\+close}}
\index{N\+V\+S\+\_\+close@{N\+V\+S\+\_\+close}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+close}]{\setlength{\rightskip}{0pt plus 5cm}void N\+V\+S\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf N\+V\+S\+\_\+\+Handle}}]{handle}
\end{DoxyParamCaption}
)}\label{_n_v_s_8h_a12147fcc41f532802d97c0784c3e30c3}


Function to close an N\+V\+S handle. 


\begin{DoxyParams}{Parameters}
{\em handle} & A handle returned from \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()}\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()} 
\end{DoxySeeAlso}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+control@{N\+V\+S\+\_\+control}}
\index{N\+V\+S\+\_\+control@{N\+V\+S\+\_\+control}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+control}]{\setlength{\rightskip}{0pt plus 5cm}int N\+V\+S\+\_\+control (
\begin{DoxyParamCaption}
\item[{{\bf N\+V\+S\+\_\+\+Handle}}]{handle, }
\item[{unsigned int}]{cmd, }
\item[{uintptr\+\_\+t}]{arg}
\end{DoxyParamCaption}
)}\label{_n_v_s_8h_adb26bd05e4f063191411ac5ad968b1d9}


Function performs implementation specific features on a given N\+V\+S\+\_\+\+Handle. 

\begin{DoxyPrecond}{Precondition}
\hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()} must be called first.
\end{DoxyPrecond}

\begin{DoxyParams}{Parameters}
{\em handle} & An N\+V\+S handle returned from \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()}\\
\hline
{\em cmd} & A command value defined by the driver specific implementation\\
\hline
{\em arg} & An optional R/\+W (read/write) argument that is accompanied with cmd\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Implementation specific return codes. Negative values indicate unsuccessful operations.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()} 
\end{DoxySeeAlso}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+erase@{N\+V\+S\+\_\+erase}}
\index{N\+V\+S\+\_\+erase@{N\+V\+S\+\_\+erase}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+erase}]{\setlength{\rightskip}{0pt plus 5cm}int N\+V\+S\+\_\+erase (
\begin{DoxyParamCaption}
\item[{{\bf N\+V\+S\+\_\+\+Handle}}]{handle}
\end{DoxyParamCaption}
)}\label{_n_v_s_8h_af541d0cf115b8de4168eef31133364dc}


Erase the block of storage reference by an N\+V\+S handle. 


\begin{DoxyParams}{Parameters}
{\em handle} & A handle returned from \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+V\+S\+\_\+\+S\+O\+K Success. 

N\+V\+S\+\_\+\+E\+F\+A\+I\+L An error occurred erasing the flash. 
\end{DoxyReturn}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+exit@{N\+V\+S\+\_\+exit}}
\index{N\+V\+S\+\_\+exit@{N\+V\+S\+\_\+exit}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+exit}]{\setlength{\rightskip}{0pt plus 5cm}void N\+V\+S\+\_\+exit (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{_n_v_s_8h_aa72b8cbb46bfc2a9e61102144a58b554}


Function to de-\/initialize the N\+V\+S module. 

\begin{DoxyPrecond}{Precondition}
\hyperlink{_n_v_s_8h_a94e249f718eba502cdf34d098c83209e}{N\+V\+S\+\_\+init()} was called. 
\end{DoxyPrecond}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+get\+Attrs@{N\+V\+S\+\_\+get\+Attrs}}
\index{N\+V\+S\+\_\+get\+Attrs@{N\+V\+S\+\_\+get\+Attrs}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+get\+Attrs}]{\setlength{\rightskip}{0pt plus 5cm}int N\+V\+S\+\_\+get\+Attrs (
\begin{DoxyParamCaption}
\item[{{\bf N\+V\+S\+\_\+\+Handle}}]{handle, }
\item[{{\bf N\+V\+S\+\_\+\+Attrs} $\ast$}]{attrs}
\end{DoxyParamCaption}
)}\label{_n_v_s_8h_a6b92f45097f377824524f7a4f33f02b1}


Function to get the N\+V\+S attributes. 


\begin{DoxyParams}{Parameters}
{\em handle} & A handle returned from \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()}\\
\hline
{\em attrs} & Location to store attributes. \\
\hline
\end{DoxyParams}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+init@{N\+V\+S\+\_\+init}}
\index{N\+V\+S\+\_\+init@{N\+V\+S\+\_\+init}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void N\+V\+S\+\_\+init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{_n_v_s_8h_a94e249f718eba502cdf34d098c83209e}


Function to initialize the N\+V\+S module. 

\begin{DoxyPrecond}{Precondition}
The N\+V\+S\+\_\+config structure must exist and be persistent before this function can be called. This function must also be called before any other N\+V\+S A\+P\+Is. 
\end{DoxyPrecond}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+open@{N\+V\+S\+\_\+open}}
\index{N\+V\+S\+\_\+open@{N\+V\+S\+\_\+open}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+open}]{\setlength{\rightskip}{0pt plus 5cm}{\bf N\+V\+S\+\_\+\+Handle} N\+V\+S\+\_\+open (
\begin{DoxyParamCaption}
\item[{int}]{index, }
\item[{{\bf N\+V\+S\+\_\+\+Params} $\ast$}]{params}
\end{DoxyParamCaption}
)}\label{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}


Get an N\+V\+S block for reading and writing. 

\begin{DoxyPrecond}{Precondition}
\hyperlink{_n_v_s_8h_a94e249f718eba502cdf34d098c83209e}{N\+V\+S\+\_\+init()} was called.
\end{DoxyPrecond}

\begin{DoxyParams}{Parameters}
{\em index} & Index in the N\+V\+S\+\_\+config table of the block to manage.\\
\hline
{\em params} & Pointer to a parameter block. If N\+U\+L\+L, default parameter values will be used. \\
\hline
\end{DoxyParams}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+read@{N\+V\+S\+\_\+read}}
\index{N\+V\+S\+\_\+read@{N\+V\+S\+\_\+read}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+read}]{\setlength{\rightskip}{0pt plus 5cm}int N\+V\+S\+\_\+read (
\begin{DoxyParamCaption}
\item[{{\bf N\+V\+S\+\_\+\+Handle}}]{handle, }
\item[{size\+\_\+t}]{offset, }
\item[{void $\ast$}]{buffer, }
\item[{size\+\_\+t}]{buffer\+Size}
\end{DoxyParamCaption}
)}\label{_n_v_s_8h_ac966d3124df42478325b6a2f4def117b}


Read data from an N\+V\+S block. 


\begin{DoxyParams}{Parameters}
{\em handle} & A handle returned from \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()}\\
\hline
{\em offset} & The byte offset into the N\+V\+S block to start reading from.\\
\hline
{\em buffer} & A buffer to copy the data to.\\
\hline
{\em buffer\+Size} & The size of the buffer (number of bytes to read).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+V\+S\+\_\+\+S\+O\+K Success. 

N\+V\+S\+\_\+\+E\+O\+F\+F\+S\+E\+T The location and size to read from does not lie completely within the N\+V\+S block.
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
This call may block to ensure atomic access to the block. 
\end{DoxyRemark}
\index{N\+V\+S.\+h@{N\+V\+S.\+h}!N\+V\+S\+\_\+write@{N\+V\+S\+\_\+write}}
\index{N\+V\+S\+\_\+write@{N\+V\+S\+\_\+write}!N\+V\+S.\+h@{N\+V\+S.\+h}}
\paragraph[{N\+V\+S\+\_\+write}]{\setlength{\rightskip}{0pt plus 5cm}int N\+V\+S\+\_\+write (
\begin{DoxyParamCaption}
\item[{{\bf N\+V\+S\+\_\+\+Handle}}]{handle, }
\item[{size\+\_\+t}]{offset, }
\item[{void $\ast$}]{buffer, }
\item[{size\+\_\+t}]{buffer\+Size, }
\item[{unsigned int}]{flags}
\end{DoxyParamCaption}
)}\label{_n_v_s_8h_a2c0acbdec0a65dc725019adb65ad282a}


Write data to an N\+V\+S block. 


\begin{DoxyParams}{Parameters}
{\em handle} & A handle returned from \hyperlink{_n_v_s_8h_ad3a3d1f1477312eeee6d2c907a25bd67}{N\+V\+S\+\_\+open()}\\
\hline
{\em offset} & The byte offset into the N\+V\+S block to start writing. offset must be 4-\/byte aligned.\\
\hline
{\em buffer} & A buffer conntaining data to write to the N\+V\+S block. If buffer is N\+U\+L\+L, the block will be erased. A non-\/\+N\+U\+L\+L buffer must be aligned on a 4-\/byte boundary.\\
\hline
{\em buffer\+Size} & The size of the buffer (number of bytes to write). buffer\+Size must be a multiple of 4 bytes.\\
\hline
{\em flags} & Write flags (N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+X\+C\+L\+U\+S\+I\+V\+E, N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+R\+A\+S\+E, N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+V\+A\+L\+I\+D\+A\+T\+E).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+V\+S\+\_\+\+S\+O\+K Success. 

N\+V\+S\+\_\+\+E\+O\+F\+F\+S\+E\+T The location and size to write to does not lie completely within the N\+V\+S block. 

N\+V\+S\+\_\+\+E\+A\+L\+I\+G\+N The offset or buffer\+Size is not 4-\/byte aligned. 

N\+V\+S\+\_\+\+A\+L\+R\+E\+A\+D\+Y\+W\+R\+I\+T\+T\+E\+N The region to write to (the buffer\+Size region starting at offset into the block) has already been written to since the last erase, and N\+V\+S\+\_\+\+W\+R\+I\+T\+E\+\_\+\+E\+X\+C\+L\+U\+S\+I\+V\+E is set in the flags parameter.
\end{DoxyReturn}
\begin{DoxyRemark}{Remarks}
This call may block to ensure atomic access to the block. 
\end{DoxyRemark}
